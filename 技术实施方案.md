# å¤šå±‚çº§é¡¹ç›®ç®¡ç†ç³»ç»ŸæŠ€æœ¯å®æ–½æ–¹æ¡ˆ

## ğŸ¯ æŠ€æœ¯æ ˆé€‰å‹

### é˜¶æ®µ1ï¼šMVPç‰ˆæœ¬ï¼ˆå­¦ä¹ å’ŒéªŒè¯ï¼‰

#### åç«¯æŠ€æœ¯æ ˆ
```go
æ ¸å¿ƒæ¡†æ¶ï¼š
â”œâ”€â”€ Go 1.21+                    // ç¼–ç¨‹è¯­è¨€
â”œâ”€â”€ Gin 1.9+                    // HTTPæ¡†æ¶
â”œâ”€â”€ GORM 1.25+                  // ORMæ¡†æ¶
â”œâ”€â”€ Wire 0.5+                   // ä¾èµ–æ³¨å…¥
â”œâ”€â”€ Viper 1.16+                 // é…ç½®ç®¡ç†
â””â”€â”€ Zap 1.24+                   // æ—¥å¿—æ¡†æ¶

æ•°æ®å­˜å‚¨ï¼š
â”œâ”€â”€ MySQL 8.0+                  // ä¸»æ•°æ®åº“
â”œâ”€â”€ Redis 7.0+                  // ç¼“å­˜å’Œä¼šè¯
â””â”€â”€ å†…å­˜EventBus                // äº‹ä»¶æ€»çº¿ï¼ˆç®€åŒ–ç‰ˆï¼‰

å·¥å…·åº“ï¼š
â”œâ”€â”€ UUID 1.3+                   // å”¯ä¸€IDç”Ÿæˆ
â”œâ”€â”€ JWT-Go 4.5+                 // è®¤è¯token
â”œâ”€â”€ Validator 10.14+            // æ•°æ®éªŒè¯
â”œâ”€â”€ Testify 1.8+                // æµ‹è¯•æ¡†æ¶
â””â”€â”€ Air 1.45+                   // çƒ­é‡è½½ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
```

#### å‰ç«¯æŠ€æœ¯æ ˆï¼ˆå¯é€‰ï¼‰
```javascript
åŸºç¡€æ¡†æ¶ï¼š
â”œâ”€â”€ Vue.js 3.3+                 // å‰ç«¯æ¡†æ¶
â”œâ”€â”€ Vue Router 4.2+             // è·¯ç”±ç®¡ç†
â”œâ”€â”€ Pinia 2.1+                  // çŠ¶æ€ç®¡ç†
â”œâ”€â”€ Element Plus 2.3+           // UIç»„ä»¶åº“
â””â”€â”€ Axios 1.4+                  // HTTPå®¢æˆ·ç«¯

å¼€å‘å·¥å…·ï¼š
â”œâ”€â”€ Vite 4.4+                   // æ„å»ºå·¥å…·
â”œâ”€â”€ TypeScript 5.1+             // ç±»å‹ç³»ç»Ÿ
â”œâ”€â”€ ESLint 8.44+                // ä»£ç æ£€æŸ¥
â””â”€â”€ Prettier 3.0+               // ä»£ç æ ¼å¼åŒ–
```

#### éƒ¨ç½²å’Œè¿ç»´
```yaml
å®¹å™¨åŒ–ï¼š
â”œâ”€â”€ Docker 24.0+                // å®¹å™¨è¿è¡Œæ—¶
â”œâ”€â”€ Docker Compose 2.20+        // æœ¬åœ°ç¼–æ’
â””â”€â”€ Dockerfileå¤šé˜¶æ®µæ„å»º        // é•œåƒä¼˜åŒ–

ç›‘æ§å’Œæ—¥å¿—ï¼š
â”œâ”€â”€ Prometheus 2.45+            // æŒ‡æ ‡ç›‘æ§
â”œâ”€â”€ Grafana 10.0+               // ç›‘æ§é¢æ¿
â”œâ”€â”€ Jaeger 1.47+                // é“¾è·¯è¿½è¸ª
â””â”€â”€ ELK Stack                   // æ—¥å¿—æ”¶é›†åˆ†æ

éƒ¨ç½²æ–¹æ¡ˆï¼š
â”œâ”€â”€ æœ¬åœ°å¼€å‘ï¼šDocker Compose
â”œâ”€â”€ æµ‹è¯•ç¯å¢ƒï¼šå•æœºéƒ¨ç½²
â””â”€â”€ ç”Ÿäº§ç¯å¢ƒï¼šKubernetesï¼ˆåæœŸï¼‰
```

### é˜¶æ®µ2ï¼šç”Ÿäº§ç‰ˆæœ¬ï¼ˆæ‰©å±•å’Œä¼˜åŒ–ï¼‰

#### æ¶ˆæ¯é˜Ÿåˆ—å‡çº§
```go
ä»å†…å­˜EventBuså‡çº§åˆ°ï¼š
â”œâ”€â”€ Redis Stream               // è½»é‡çº§æ¶ˆæ¯é˜Ÿåˆ—
â””â”€â”€ Apache Kafka              // å¤§è§„æ¨¡æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¯é€‰ï¼‰
```

#### æ•°æ®åº“ä¼˜åŒ–
```sql
è¯»å†™åˆ†ç¦»ï¼š
â”œâ”€â”€ MySQLä¸»ä»å¤åˆ¶
â”œâ”€â”€ è¯»å†™åˆ†ç¦»ä¸­é—´ä»¶
â””â”€â”€ åˆ†åº“åˆ†è¡¨ç­–ç•¥

ç¼“å­˜ç­–ç•¥ï¼š
â”œâ”€â”€ Redisé›†ç¾¤
â”œâ”€â”€ å¤šçº§ç¼“å­˜
â””â”€â”€ ç¼“å­˜é¢„çƒ­
```

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

#### 1. ç”¨æˆ·å’Œæƒé™è¡¨
```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    avatar_url VARCHAR(500),
    status ENUM('active', 'inactive', 'suspended') DEFAULT 'active',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_email (email),
    INDEX idx_status (status)
);

-- è§’è‰²è¡¨
CREATE TABLE roles (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç”¨æˆ·è§’è‰²å…³è”è¡¨
CREATE TABLE user_roles (
    user_id VARCHAR(36),
    role_id VARCHAR(36),
    assigned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    assigned_by VARCHAR(36),
    PRIMARY KEY (user_id, role_id),
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE,
    FOREIGN KEY (assigned_by) REFERENCES users(id)
);

-- æƒé™è¡¨
CREATE TABLE permissions (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(100) UNIQUE NOT NULL,
    resource VARCHAR(50) NOT NULL,
    action VARCHAR(50) NOT NULL,
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_resource_action (resource, action)
);

-- è§’è‰²æƒé™å…³è”è¡¨
CREATE TABLE role_permissions (
    role_id VARCHAR(36),
    permission_id VARCHAR(36),
    PRIMARY KEY (role_id, permission_id),
    FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE,
    FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE
);
```

#### 2. é¡¹ç›®ç®¡ç†è¡¨
```sql
-- é¡¹ç›®è¡¨
CREATE TABLE projects (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    project_type ENUM('master', 'sub', 'temporary') NOT NULL,
    parent_project_id VARCHAR(36) NULL,
    owner_id VARCHAR(36) NOT NULL,
    manager_id VARCHAR(36) NULL,
    status ENUM('draft', 'active', 'paused', 'completed', 'cancelled') DEFAULT 'draft',
    start_date DATE,
    end_date DATE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (parent_project_id) REFERENCES projects(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    FOREIGN KEY (manager_id) REFERENCES users(id),
    
    INDEX idx_parent_project (parent_project_id),
    INDEX idx_owner (owner_id),
    INDEX idx_manager (manager_id),
    INDEX idx_status (status),
    INDEX idx_type_status (project_type, status)
);

-- é¡¹ç›®æˆå‘˜è¡¨
CREATE TABLE project_members (
    id VARCHAR(36) PRIMARY KEY,
    project_id VARCHAR(36) NOT NULL,
    user_id VARCHAR(36) NOT NULL,
    role ENUM('manager', 'member') NOT NULL,
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    added_by VARCHAR(36),
    
    UNIQUE KEY uk_project_user (project_id, user_id),
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (added_by) REFERENCES users(id),
    
    INDEX idx_project (project_id),
    INDEX idx_user (user_id),
    INDEX idx_role (role)
);
```

#### 3. ä»»åŠ¡ç®¡ç†è¡¨
```sql
-- ä»»åŠ¡è¡¨
CREATE TABLE tasks (
    id VARCHAR(36) PRIMARY KEY,
    title VARCHAR(300) NOT NULL,
    description TEXT,
    task_type ENUM('single_execution', 'recurring') NOT NULL,
    priority ENUM('low', 'normal', 'high', 'urgent') DEFAULT 'normal',
    project_id VARCHAR(36) NOT NULL,
    creator_id VARCHAR(36) NOT NULL,
    responsible_id VARCHAR(36) NOT NULL,
    status ENUM('draft', 'pending_approval', 'approved', 'in_progress', 'pending_final_review', 'completed', 'rejected', 'cancelled', 'paused') DEFAULT 'draft',
    
    -- æ—¶é—´ç®¡ç†
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    start_date TIMESTAMP NULL,
    due_date TIMESTAMP NULL,
    completed_at TIMESTAMP NULL,
    estimated_hours INT DEFAULT 0,
    
    -- é‡å¤ä»»åŠ¡ç›¸å…³
    workflow_id VARCHAR(36) NULL,
    
    FOREIGN KEY (project_id) REFERENCES projects(id),
    FOREIGN KEY (creator_id) REFERENCES users(id),
    FOREIGN KEY (responsible_id) REFERENCES users(id),
    
    INDEX idx_project_status (project_id, status),
    INDEX idx_responsible_status (responsible_id, status),
    INDEX idx_creator (creator_id),
    INDEX idx_due_date (due_date),
    INDEX idx_status (status),
    INDEX idx_task_type (task_type),
    INDEX idx_priority (priority)
);

-- ä»»åŠ¡å‚ä¸äººå‘˜è¡¨
CREATE TABLE task_participants (
    id VARCHAR(36) PRIMARY KEY,
    task_id VARCHAR(36) NOT NULL,
    user_id VARCHAR(36) NOT NULL,
    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    added_by VARCHAR(36) NOT NULL,
    
    UNIQUE KEY uk_task_user (task_id, user_id),
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (added_by) REFERENCES users(id),
    
    INDEX idx_task (task_id),
    INDEX idx_user (user_id)
);

-- é‡å¤ä»»åŠ¡è§„åˆ™è¡¨
CREATE TABLE recurrence_rules (
    id VARCHAR(36) PRIMARY KEY,
    task_id VARCHAR(36) NOT NULL,
    frequency ENUM('daily', 'weekly', 'monthly') NOT NULL,
    interval_value INT DEFAULT 1,
    end_date TIMESTAMP NULL,
    max_executions INT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY uk_task (task_id),
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    
    INDEX idx_frequency (frequency)
);
```

#### 4. ä»»åŠ¡æ‰§è¡Œè¡¨
```sql
-- ä»»åŠ¡æ‰§è¡Œè®°å½•è¡¨
CREATE TABLE task_executions (
    id VARCHAR(36) PRIMARY KEY,
    task_id VARCHAR(36) NOT NULL,
    execution_date TIMESTAMP NOT NULL,
    status ENUM('pending', 'in_progress', 'pending_review', 'pending_final_review', 'completed', 'rejected', 'cancelled') DEFAULT 'pending',
    started_at TIMESTAMP NULL,
    submitted_at TIMESTAMP NULL,
    completed_at TIMESTAMP NULL,
    result TEXT,
    
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    
    INDEX idx_task (task_id),
    INDEX idx_execution_date (execution_date),
    INDEX idx_status (status),
    INDEX idx_task_status (task_id, status)
) PARTITION BY RANGE (YEAR(execution_date)) (
    PARTITION p2024 VALUES LESS THAN (2025),
    PARTITION p2025 VALUES LESS THAN (2026),
    PARTITION p2026 VALUES LESS THAN (2027),
    PARTITION p_future VALUES LESS THAN MAXVALUE
);

-- å‚ä¸äººå‘˜å®Œæˆè®°å½•è¡¨
CREATE TABLE participant_completions (
    id VARCHAR(36) PRIMARY KEY,
    execution_id VARCHAR(36) NOT NULL,
    participant_id VARCHAR(36) NOT NULL,
    work_result TEXT,
    status ENUM('pending', 'submitted', 'approved', 'rejected') DEFAULT 'pending',
    submitted_at TIMESTAMP NULL,
    reviewed_at TIMESTAMP NULL,
    reviewer_id VARCHAR(36) NULL,
    review_comment TEXT,
    
    UNIQUE KEY uk_execution_participant (execution_id, participant_id),
    FOREIGN KEY (execution_id) REFERENCES task_executions(id) ON DELETE CASCADE,
    FOREIGN KEY (participant_id) REFERENCES users(id),
    FOREIGN KEY (reviewer_id) REFERENCES users(id),
    
    INDEX idx_execution (execution_id),
    INDEX idx_participant (participant_id),
    INDEX idx_status (status)
);
```

#### 5. å®¡æ‰¹å’Œå»¶æœŸè¡¨
```sql
-- å®¡æ‰¹è®°å½•è¡¨
CREATE TABLE approval_records (
    id VARCHAR(36) PRIMARY KEY,
    task_id VARCHAR(36) NOT NULL,
    execution_id VARCHAR(36) NULL,
    approver_id VARCHAR(36) NOT NULL,
    approval_type ENUM('task_creation', 'task_completion', 'extension_request') NOT NULL,
    action ENUM('approve', 'reject') NOT NULL,
    comment TEXT,
    approved_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    FOREIGN KEY (execution_id) REFERENCES task_executions(id) ON DELETE CASCADE,
    FOREIGN KEY (approver_id) REFERENCES users(id),
    
    INDEX idx_task (task_id),
    INDEX idx_execution (execution_id),
    INDEX idx_approver (approver_id),
    INDEX idx_type (approval_type)
);

-- å»¶æœŸç”³è¯·è¡¨
CREATE TABLE extension_requests (
    id VARCHAR(36) PRIMARY KEY,
    task_id VARCHAR(36) NOT NULL,
    requester_id VARCHAR(36) NOT NULL,
    original_due_date TIMESTAMP NOT NULL,
    requested_due_date TIMESTAMP NOT NULL,
    reason TEXT NOT NULL,
    status ENUM('pending', 'approved', 'rejected') DEFAULT 'pending',
    requested_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    reviewed_at TIMESTAMP NULL,
    reviewer_id VARCHAR(36) NULL,
    review_comment TEXT,
    
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    FOREIGN KEY (requester_id) REFERENCES users(id),
    FOREIGN KEY (reviewer_id) REFERENCES users(id),
    
    INDEX idx_task (task_id),
    INDEX idx_requester (requester_id),
    INDEX idx_status (status),
    INDEX idx_requested_at (requested_at)
);
```

#### 6. äº‹ä»¶å’Œæ—¥å¿—è¡¨
```sql
-- é¢†åŸŸäº‹ä»¶è¡¨ï¼ˆäº‹ä»¶æº¯æºï¼‰
CREATE TABLE domain_events (
    id VARCHAR(36) PRIMARY KEY,
    event_type VARCHAR(100) NOT NULL,
    aggregate_id VARCHAR(36) NOT NULL,
    aggregate_type VARCHAR(50) NOT NULL,
    event_data JSON NOT NULL,
    event_version INT DEFAULT 1,
    occurred_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    user_id VARCHAR(36) NULL,
    
    FOREIGN KEY (user_id) REFERENCES users(id),
    
    INDEX idx_aggregate (aggregate_type, aggregate_id),
    INDEX idx_event_type (event_type),
    INDEX idx_occurred_at (occurred_at)
) PARTITION BY RANGE (YEAR(occurred_at)) (
    PARTITION p2024 VALUES LESS THAN (2025),
    PARTITION p2025 VALUES LESS THAN (2026),
    PARTITION p2026 VALUES LESS THAN (2027),
    PARTITION p_future VALUES LESS THAN MAXVALUE
);

-- æ“ä½œæ—¥å¿—è¡¨
CREATE TABLE operation_logs (
    id VARCHAR(36) PRIMARY KEY,
    user_id VARCHAR(36) NULL,
    operation VARCHAR(100) NOT NULL,
    resource_type VARCHAR(50) NOT NULL,
    resource_id VARCHAR(36) NOT NULL,
    ip_address VARCHAR(45),
    user_agent TEXT,
    request_data JSON,
    response_status INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id),
    
    INDEX idx_user (user_id),
    INDEX idx_operation (operation),
    INDEX idx_resource (resource_type, resource_id),
    INDEX idx_created_at (created_at)
) PARTITION BY RANGE (YEAR(created_at)) (
    PARTITION p2024 VALUES LESS THAN (2025),
    PARTITION p2025 VALUES LESS THAN (2026),
    PARTITION p2026 VALUES LESS THAN (2027),
    PARTITION p_future VALUES LESS THAN MAXVALUE
);
```

## ğŸ”Œ APIæ¥å£è®¾è®¡

### RESTful API è§„èŒƒ

#### 1. è®¤è¯å’Œæˆæƒæ¥å£
```http
POST   /api/v1/auth/login          # ç”¨æˆ·ç™»å½•
POST   /api/v1/auth/logout         # ç”¨æˆ·ç™»å‡º  
POST   /api/v1/auth/refresh        # åˆ·æ–°token
GET    /api/v1/auth/profile        # è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
PUT    /api/v1/auth/profile        # æ›´æ–°ç”¨æˆ·ä¿¡æ¯
PUT    /api/v1/auth/password       # ä¿®æ”¹å¯†ç 
```

#### 2. é¡¹ç›®ç®¡ç†æ¥å£
```http
# é¡¹ç›®CRUD
GET    /api/v1/projects                    # è·å–é¡¹ç›®åˆ—è¡¨
POST   /api/v1/projects                    # åˆ›å»ºé¡¹ç›®
GET    /api/v1/projects/{id}               # è·å–é¡¹ç›®è¯¦æƒ…
PUT    /api/v1/projects/{id}               # æ›´æ–°é¡¹ç›®ä¿¡æ¯
DELETE /api/v1/projects/{id}               # åˆ é™¤é¡¹ç›®

# é¡¹ç›®å±‚çº§ç®¡ç†
GET    /api/v1/projects/{id}/children      # è·å–å­é¡¹ç›®åˆ—è¡¨
POST   /api/v1/projects/{id}/children      # åˆ›å»ºå­é¡¹ç›®
GET    /api/v1/projects/{id}/hierarchy     # è·å–é¡¹ç›®å±‚çº§ç»“æ„

# é¡¹ç›®æˆå‘˜ç®¡ç†
GET    /api/v1/projects/{id}/members       # è·å–é¡¹ç›®æˆå‘˜
POST   /api/v1/projects/{id}/members       # æ·»åŠ é¡¹ç›®æˆå‘˜
PUT    /api/v1/projects/{id}/members/{uid} # æ›´æ–°æˆå‘˜è§’è‰²
DELETE /api/v1/projects/{id}/members/{uid} # ç§»é™¤é¡¹ç›®æˆå‘˜

# é¡¹ç›®åˆ†é…
PUT    /api/v1/projects/{id}/manager       # åˆ†é…é¡¹ç›®ç®¡ç†è€…
```

#### 3. ä»»åŠ¡ç®¡ç†æ¥å£
```http
# ä»»åŠ¡CRUD
GET    /api/v1/tasks                       # è·å–ä»»åŠ¡åˆ—è¡¨
POST   /api/v1/tasks                       # åˆ›å»ºä»»åŠ¡
GET    /api/v1/tasks/{id}                  # è·å–ä»»åŠ¡è¯¦æƒ…
PUT    /api/v1/tasks/{id}                  # æ›´æ–°ä»»åŠ¡ä¿¡æ¯
DELETE /api/v1/tasks/{id}                  # åˆ é™¤ä»»åŠ¡

# ä»»åŠ¡çŠ¶æ€ç®¡ç†
PUT    /api/v1/tasks/{id}/status           # æ›´æ–°ä»»åŠ¡çŠ¶æ€
POST   /api/v1/tasks/{id}/submit           # æäº¤ä»»åŠ¡å®¡æ‰¹
POST   /api/v1/tasks/{id}/approve          # å®¡æ‰¹ä»»åŠ¡
POST   /api/v1/tasks/{id}/reject           # æ‹’ç»ä»»åŠ¡
POST   /api/v1/tasks/{id}/start            # å¼€å§‹æ‰§è¡Œä»»åŠ¡
POST   /api/v1/tasks/{id}/complete         # æäº¤ä»»åŠ¡å®Œæˆ
POST   /api/v1/tasks/{id}/confirm          # ç¡®è®¤ä»»åŠ¡å®Œæˆ

# ä»»åŠ¡å‚ä¸äººå‘˜ç®¡ç†
GET    /api/v1/tasks/{id}/participants     # è·å–å‚ä¸äººå‘˜
POST   /api/v1/tasks/{id}/participants     # æ·»åŠ å‚ä¸äººå‘˜
DELETE /api/v1/tasks/{id}/participants/{uid} # ç§»é™¤å‚ä¸äººå‘˜

# ä»»åŠ¡åˆ†é…
PUT    /api/v1/tasks/{id}/assign           # åˆ†é…ä»»åŠ¡è´Ÿè´£äºº
PUT    /api/v1/tasks/{id}/reassign         # é‡æ–°åˆ†é…ä»»åŠ¡
```

#### 4. ä»»åŠ¡æ‰§è¡Œæ¥å£
```http
# æ‰§è¡Œè®°å½•ç®¡ç†
GET    /api/v1/tasks/{id}/executions       # è·å–æ‰§è¡Œè®°å½•åˆ—è¡¨
GET    /api/v1/executions/{id}             # è·å–æ‰§è¡Œè®°å½•è¯¦æƒ…
POST   /api/v1/executions/{id}/start       # å¼€å§‹æ‰§è¡Œ
PUT    /api/v1/executions/{id}/pause       # æš‚åœæ‰§è¡Œ
PUT    /api/v1/executions/{id}/resume      # æ¢å¤æ‰§è¡Œ

# å‚ä¸äººå‘˜å·¥ä½œæäº¤
POST   /api/v1/executions/{id}/work        # æäº¤å·¥ä½œæˆæœ
PUT    /api/v1/executions/{id}/work/{uid}  # æ›´æ–°å·¥ä½œæˆæœ
POST   /api/v1/executions/{id}/review      # å®¡æ‰¹å·¥ä½œæˆæœ

# ä»»åŠ¡å®Œæˆæµç¨‹
POST   /api/v1/executions/{id}/submit      # è´Ÿè´£äººæäº¤å®Œæˆ
POST   /api/v1/executions/{id}/confirm     # é¢†å¯¼ç¡®è®¤å®Œæˆ
POST   /api/v1/executions/{id}/reject      # è¦æ±‚è¿”å·¥
```

#### 5. å»¶æœŸç”³è¯·æ¥å£
```http
# å»¶æœŸç”³è¯·
POST   /api/v1/tasks/{id}/extensions       # ç”³è¯·å»¶æœŸ
GET    /api/v1/tasks/{id}/extensions       # è·å–å»¶æœŸç”³è¯·åˆ—è¡¨
PUT    /api/v1/extensions/{id}/approve     # æ‰¹å‡†å»¶æœŸç”³è¯·
PUT    /api/v1/extensions/{id}/reject      # æ‹’ç»å»¶æœŸç”³è¯·

# æˆ‘çš„å»¶æœŸç”³è¯·
GET    /api/v1/my/extension-requests       # æˆ‘çš„å»¶æœŸç”³è¯·
GET    /api/v1/my/extension-reviews        # å¾…æˆ‘å®¡æ‰¹çš„å»¶æœŸç”³è¯·
```

#### 6. ç»Ÿè®¡åˆ†ææ¥å£
```http
# é¡¹ç›®ç»Ÿè®¡
GET    /api/v1/projects/{id}/statistics    # é¡¹ç›®ç»Ÿè®¡æ•°æ®
GET    /api/v1/projects/{id}/trends        # é¡¹ç›®è¶‹åŠ¿åˆ†æ
GET    /api/v1/projects/{id}/reports       # é¡¹ç›®æŠ¥è¡¨

# ä»»åŠ¡ç»Ÿè®¡
GET    /api/v1/tasks/statistics            # ä»»åŠ¡ç»Ÿè®¡æ¦‚è§ˆ
GET    /api/v1/tasks/completion-rate       # ä»»åŠ¡å®Œæˆç‡
GET    /api/v1/tasks/overdue               # é€¾æœŸä»»åŠ¡ç»Ÿè®¡

# ç”¨æˆ·å·¥ä½œé‡ç»Ÿè®¡
GET    /api/v1/users/{id}/workload         # ç”¨æˆ·å·¥ä½œè´Ÿè½½
GET    /api/v1/users/{id}/performance      # ç”¨æˆ·ç»©æ•ˆç»Ÿè®¡
GET    /api/v1/my/dashboard                # ä¸ªäººå·¥ä½œå°
```

#### 7. é‡å¤ä»»åŠ¡æ¥å£
```http
# é‡å¤ä»»åŠ¡è§„åˆ™
POST   /api/v1/tasks/{id}/recurrence       # è®¾ç½®é‡å¤è§„åˆ™
PUT    /api/v1/tasks/{id}/recurrence       # æ›´æ–°é‡å¤è§„åˆ™
DELETE /api/v1/tasks/{id}/recurrence       # å–æ¶ˆé‡å¤è§„åˆ™

# é‡å¤ä»»åŠ¡æ§åˆ¶
POST   /api/v1/tasks/{id}/pause-recurrence # æš‚åœé‡å¤æ‰§è¡Œ
POST   /api/v1/tasks/{id}/resume-recurrence# æ¢å¤é‡å¤æ‰§è¡Œ
POST   /api/v1/tasks/{id}/stop-recurrence  # åœæ­¢é‡å¤æ‰§è¡Œ
```

### APIå“åº”æ ¼å¼è§„èŒƒ

#### ç»Ÿä¸€å“åº”æ ¼å¼
```json
{
  "code": 200,
  "message": "success",
  "data": {},
  "timestamp": "2024-01-15T10:30:00Z",
  "request_id": "req_123456789"
}
```

#### åˆ†é¡µå“åº”æ ¼å¼
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [],
    "pagination": {
      "page": 1,
      "page_size": 20,
      "total": 100,
      "total_pages": 5
    }
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "request_id": "req_123456789"
}
```

#### é”™è¯¯å“åº”æ ¼å¼
```json
{
  "code": 400,
  "message": "å‚æ•°é”™è¯¯",
  "error": {
    "type": "validation_error",
    "details": [
      {
        "field": "title",
        "message": "ä»»åŠ¡æ ‡é¢˜ä¸èƒ½ä¸ºç©º"
      }
    ]
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "request_id": "req_123456789"
}
```

## ğŸš€ éƒ¨ç½²å’Œè¿ç»´æ–¹æ¡ˆ

### å¼€å‘ç¯å¢ƒ
```yaml
# docker-compose.dev.yml
version: '3.8'
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile.dev
    ports:
      - "8080:8080"
    volumes:
      - .:/app
      - /app/vendor
    environment:
      - ENV=development
      - DB_HOST=mysql
      - REDIS_HOST=redis
    depends_on:
      - mysql
      - redis

  mysql:
    image: mysql:8.0
    ports:
      - "3306:3306"
    environment:
      MYSQL_ROOT_PASSWORD: rootpass
      MYSQL_DATABASE: task_management
      MYSQL_USER: app_user
      MYSQL_PASSWORD: app_pass
    volumes:
      - mysql_data:/var/lib/mysql
      - ./scripts/init.sql:/docker-entrypoint-initdb.d/init.sql

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

volumes:
  mysql_data:
  redis_data:
```

### ç”Ÿäº§ç¯å¢ƒ
```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  app:
    image: task-management:latest
    ports:
      - "8080:8080"
    environment:
      - ENV=production
      - DB_HOST=mysql
      - REDIS_HOST=redis
    deploy:
      replicas: 2
      resources:
        limits:
          cpus: '1'
          memory: 1G
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - app
```

## ğŸ” éœ€è¦è®¨è®ºçš„æŠ€æœ¯é—®é¢˜

### 1. æŠ€æœ¯é€‰å‹ç¡®è®¤
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šç¬¬ä¸€é˜¶æ®µç”¨å†…å­˜EventBusï¼ŒåæœŸå‡çº§åˆ°Redis Streamè¿˜æ˜¯ç›´æ¥ç”¨Kafkaï¼Ÿ
- **å‰ç«¯æ¡†æ¶**ï¼šæ˜¯å¦éœ€è¦å‰ç«¯ï¼Œè¿˜æ˜¯åªæä¾›APIï¼Ÿå¦‚æœéœ€è¦ï¼ŒVue.jsè¿˜æ˜¯Reactï¼Ÿ
- **è®¤è¯æ–¹å¼**ï¼šJWTè¿˜æ˜¯Sessionï¼Ÿæ˜¯å¦éœ€è¦OAuth2.0é›†æˆï¼Ÿ
- **æ–‡ä»¶å­˜å‚¨**ï¼šä»»åŠ¡é™„ä»¶ã€å¤´åƒç­‰æ–‡ä»¶å­˜å‚¨æ–¹æ¡ˆï¼ˆæœ¬åœ°å­˜å‚¨ vs äº‘å­˜å‚¨ï¼‰ï¼Ÿ

### 2. æ€§èƒ½å’Œæ‰©å±•æ€§è€ƒè™‘
- **æ•°æ®åº“åˆ†ç‰‡**ï¼šä»»åŠ¡æ‰§è¡Œè®°å½•è¡¨é¢„è®¡æ•°æ®é‡å¤§ï¼Œæ˜¯å¦éœ€è¦åˆ†åº“åˆ†è¡¨ï¼Ÿ
- **ç¼“å­˜ç­–ç•¥**ï¼šå“ªäº›æ•°æ®éœ€è¦ç¼“å­˜ï¼Ÿç¼“å­˜è¿‡æœŸç­–ç•¥å¦‚ä½•è®¾è®¡ï¼Ÿ
- **å¹¶å‘æ§åˆ¶**ï¼šä»»åŠ¡çŠ¶æ€å˜æ›´çš„å¹¶å‘æ§åˆ¶å¦‚ä½•å¤„ç†ï¼Ÿ
- **æœç´¢åŠŸèƒ½**ï¼šæ˜¯å¦éœ€è¦å…¨æ–‡æœç´¢ï¼Ÿç”¨MySQLå…¨æ–‡ç´¢å¼•è¿˜æ˜¯ElasticSearchï¼Ÿ

### 3. å®‰å…¨æ€§é—®é¢˜
- **æƒé™ç²’åº¦**ï¼šAPIçº§åˆ«çš„æƒé™æ§åˆ¶å¦‚ä½•å®ç°ï¼Ÿ
- **æ•°æ®è„±æ•**ï¼šæ—¥å¿—ä¸­çš„æ•æ„Ÿæ•°æ®å¦‚ä½•å¤„ç†ï¼Ÿ
- **APIé™æµ**ï¼šå¦‚ä½•é˜²æ­¢APIæ»¥ç”¨ï¼Ÿ
- **æ•°æ®å¤‡ä»½**ï¼šæ•°æ®å¤‡ä»½å’Œæ¢å¤ç­–ç•¥ï¼Ÿ

### 4. å¼€å‘å’Œæµ‹è¯•
- **ä»£ç ç”Ÿæˆ**ï¼šæ˜¯å¦ä½¿ç”¨ä»£ç ç”Ÿæˆå·¥å…·ï¼ˆå¦‚GORM genï¼‰ï¼Ÿ
- **APIæ–‡æ¡£**ï¼šä½¿ç”¨Swaggerè¿˜æ˜¯å…¶ä»–APIæ–‡æ¡£å·¥å…·ï¼Ÿ
- **æµ‹è¯•æ•°æ®**ï¼šå¦‚ä½•ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Ÿ
- **CI/CD**ï¼šGitHub Actionsè¿˜æ˜¯å…¶ä»–CI/CDå·¥å…·ï¼Ÿ

### 5. ç›‘æ§å’Œè¿ç»´
- **ç›‘æ§æŒ‡æ ‡**ï¼šé™¤äº†åŸºç¡€æŒ‡æ ‡ï¼Œè¿˜éœ€è¦å“ªäº›ä¸šåŠ¡æŒ‡æ ‡ï¼Ÿ
- **å‘Šè­¦ç­–ç•¥**ï¼šä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å‘Šè­¦ï¼Ÿ
- **æ—¥å¿—ç­‰çº§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒçš„æ—¥å¿—ç­‰çº§å¦‚ä½•è®¾ç½®ï¼Ÿ
- **æ€§èƒ½åˆ†æ**ï¼šå¦‚ä½•è¿›è¡Œæ€§èƒ½åˆ†æå’Œä¼˜åŒ–ï¼Ÿ

è¯·ç¡®è®¤è¿™äº›æŠ€æœ¯æ–¹æ¡ˆæ˜¯å¦ç¬¦åˆä½ çš„é¢„æœŸï¼Œä»¥åŠå¯¹ä¸Šè¿°é—®é¢˜çš„å€¾å‘æ€§é€‰æ‹©ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å…·ä½“çš„ç¼–ç å·¥ä½œäº†ï¼
